CREATE TABLE USERS
(	ID BIGINT CONSTRAINT USERS_ID_NN NOT NULL,
    CHAT_ID BIGINT CONSTRAINT USERS_CHAT_ID_NN NOT NULL,
    FIRST_NAME VARCHAR,
    LAST_NAME VARCHAR,
    USER_NAME VARCHAR,
    REGISTERED_AT TIMESTAMP,
    CONSTRAINT USERS_ID_PK PRIMARY KEY (ID),
    CONSTRAINT USERS_CHAT_ID_UN UNIQUE (CHAT_ID)
);

CREATE SEQUENCE user_seq START WITH 1;

CREATE TABLE ADS
(	 ID BIGINT CONSTRAINT ADS_ID_NN NOT NULL,
     AD VARCHAR,
     DELIVERED_TIME TIMESTAMP,
     CREATING_TIME TIMESTAMP DEFAULT now() CONSTRAINT ADS_CTIME_NN NOT NULL,
     CONSTRAINT ADS_ID_PK PRIMARY KEY (ID)
);

CREATE SEQUENCE ad_seq START WITH 1;


CREATE TABLE USER_ROLES
(	  ID BIGINT CONSTRAINT USER_ROLES_ID_NN NOT NULL,
      NAME VARCHAR,
      DESCRIPTION VARCHAR,
      CREATING_TIME TIMESTAMP DEFAULT now() CONSTRAINT USER_ROLES_CTIME_NN NOT NULL,
      CONSTRAINT USER_ROLES_ID_PK PRIMARY KEY (ID)
);

INSERT INTO USER_ROLES(ID, NAME, DESCRIPTION) VALUES (1, 'USER', 'User');
INSERT INTO USER_ROLES(ID, NAME, DESCRIPTION) VALUES (2, 'ADMIN', 'Admin');

CREATE TABLE BOT_COMMANDS
(	  ID BIGINT CONSTRAINT BOT_COMMANDS_ID_NN NOT NULL,
       NAME VARCHAR,
       BOT_MESSAGE_ID VARCHAR,
       BOT_DESCRIPTION VARCHAR,
       BEAN_NAME VARCHAR,
       DESCRIPTION VARCHAR,
       CREATING_TIME TIMESTAMP DEFAULT now() CONSTRAINT CTIME_NN NOT NULL,
       CONSTRAINT BOT_COMMANDS_ID_PK PRIMARY KEY (ID)
);

INSERT INTO BOT_COMMANDS(ID, NAME, BOT_MESSAGE_ID, BOT_DESCRIPTION, BEAN_NAME, DESCRIPTION)
VALUES (1, 'GET_NEXT_DATE_FACT', '/getnextdatefact', 'get next date fact', 'botCommandCustomGetNextDateFactAction', '');
INSERT INTO BOT_COMMANDS(ID, NAME, BOT_MESSAGE_ID, BOT_DESCRIPTION, BEAN_NAME, DESCRIPTION)
VALUES (2, 'HELP', '/help', 'help', 'botCommandCustomHelpAction', '');
INSERT INTO BOT_COMMANDS(ID, NAME, BOT_MESSAGE_ID, BOT_DESCRIPTION, BEAN_NAME, DESCRIPTION)
VALUES (3, 'START', '/start', 'start', 'botCommandCustomStartAction', '');
INSERT INTO BOT_COMMANDS(ID, NAME, BOT_MESSAGE_ID, BOT_DESCRIPTION, BEAN_NAME, DESCRIPTION)
VALUES (4, 'SEND_NEXT_DATE_FACT', '/sendnextdatefact', 'send next date fact', 'botCommandCustomSendNextDateFactAction', '');
INSERT INTO BOT_COMMANDS(ID, NAME, BOT_MESSAGE_ID, BOT_DESCRIPTION, BEAN_NAME, DESCRIPTION)
VALUES (5, 'SEND_AD', '/send_ad', 'send ad', 'botCommandCustomSendAdAction', '');





CREATE TABLE BOT_COMMAND_MAP
(	  ID BIGINT CONSTRAINT BOT_COMMAND_MAP_ID_NN NOT NULL,
       USER_ROLE_ID BIGINT,
       BOT_COMMAND_ID BIGINT,
       CREATING_TIME TIMESTAMP DEFAULT now() CONSTRAINT BOT_COMMAND_MAP_CTIME_NN NOT NULL,
       CONSTRAINT BOT_COMMAND_MAP_ID_PK PRIMARY KEY (ID),
       CONSTRAINT BOT_COMMAND_MAP_USER_ROLE_FK FOREIGN KEY (USER_ROLE_ID) REFERENCES USER_ROLES(ID),
       CONSTRAINT BOT_COMMAND_MAP_BOT_COMMAND_FK FOREIGN KEY (BOT_COMMAND_ID) REFERENCES BOT_COMMANDS(ID)
);

INSERT INTO BOT_COMMAND_MAP(ID, USER_ROLE_ID, BOT_COMMAND_ID) VALUES (1, 1, 1);
INSERT INTO BOT_COMMAND_MAP(ID, USER_ROLE_ID, BOT_COMMAND_ID) VALUES (2, 1, 2);
INSERT INTO BOT_COMMAND_MAP(ID, USER_ROLE_ID, BOT_COMMAND_ID) VALUES (3, 1, 3);
INSERT INTO BOT_COMMAND_MAP(ID, USER_ROLE_ID, BOT_COMMAND_ID) VALUES (4, 2, 3);
INSERT INTO BOT_COMMAND_MAP(ID, USER_ROLE_ID, BOT_COMMAND_ID) VALUES (5, 2, 4);
INSERT INTO BOT_COMMAND_MAP(ID, USER_ROLE_ID, BOT_COMMAND_ID) VALUES (6, 2, 5);